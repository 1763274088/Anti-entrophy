# 无人机文档

## 嵌入式开发板与飞控

### 嵌入式开发板

* TK1（143克）

  ![img](http://www.synnex.com.tw/oem/IMAGE/nv_word1.gif)

* TX2， TX1（重量143克）
  模块技术规格

  |          | Jetson TX2                                                   | Jetson TX1                                                   |
  | -------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
  | GPU      | NVIDIA Pascal™、256 颗 CUDA 核心                             | NVIDIA Maxwell™、256 颗 CUDA 核心                            |
  | CPU      | HMP Dual Denver 2/2 MB L2 + Quad ARM® A57/2 MB L2            | Quad ARM® A57/2 MB L2                                        |
  | 视频     | 4K x 2K 60 Hz 编码 (HEVC)4K x 2K 60 Hz 解码（12 位支持）     | 4K x 2K 30 Hz 编码 (HEVC)4K x 2K 60 Hz 解码（10 位支持）     |
  | 内存     | 8 GB 128 位 LPDDR458.3 GB/s                                  | 4 GB 64 位 LPDDR425.6 GB/s                                   |
  | 显示器   | 2 个 DSI 接口、2 个 DP 1.2 接口/HDMI 2.0 接口/eDP 1.4 接口   | 2 个 DSI 接口、1 个 eDP 1.4 接口/DP 1.2 接口/HDMI 接口       |
  | CSI      | 超级多 6 个摄像头（2 通道CSI2 D-PHY 1.2（每个通道 2.5 Gbps） | 超级多 6 个摄像头（2 通道）CSI2 D-PHY 1.1（每个通道 1.5 Gbps） |
  | PCIE     | Gen 2 \| 1x4 + 1x1 或 2x1 + 1x2                              | Gen 2 \| 1x4 + 1x1                                           |
  | 数据存储 | 32 GB eMMC、SDIO、SATA                                       | 16 GB eMMC、SDIO、SATA                                       |
  | 其他     | CAN、UART、SPI、I2C、I2S、GPIO                               | UART、SPI、I2C、I2S、GPIO                                    |
  | USB      | USB 3.0 + USB 2.0                                            |                                                              |
  | 连接     | 1 千兆以太网、802.11ac WLAN、蓝牙                            |                                                              |
  | 机械     | 50 毫米 x 87 毫米（400 针兼容板对板连接器）                  |                                                              |

* Pixhawk 2![img](http://www.proficnc.com/img/cms/Front%20Page%202/pixhawk2%E7%94%A2%E5%93%81%E7%89%B9%E6%80%A7_cube+edison.jpg)



#### 嵌入式主板性能对比

 终于有时间给自己的工作做一个总结了，回首往昔，从事SLAM与机器人室内自主导航也两载有余了。机器人是软件硬件结合的一个实体，这里就先从机器人的大脑-嵌入式主板展开讨论，以下是我用过的一些嵌入式开发板，就主要针对性的展开一下对比分析：

* 树莓派3
* Firefly-RK3399
* Nvidia-jetson-TK1
* Nvidia-jetson-TX2
* Intel-NUC
* Intel-Edison
* Google-Tango-phone

##### 树莓派3

之前一直很火的树莓派2大家都知道，如今又出了升级版本（也就是树莓派3），这里就放一张树莓派0，树莓派2，树莓派3家族的合影吧。

![img](https://images2018.cnblogs.com/blog/1204799/201803/1204799-20180325200453125-121336550.png)

接下来看看具体性能参数，了解更多树莓派的知识可以参考《Exploring Raspberry Pi-Interfacing to the Real World with Embedded Linux· Derek Molloy》这本书。

![img](https://images2018.cnblogs.com/blog/1204799/201803/1204799-20180325200540751-893768496.png)

树莓派3，售价200RMB左右，CPU是1.2Ghz ARM-Cortex-A53，内存1GB，板载wifi模块，还有一个多媒体显示GPU（不过感觉没什么用）。CPU和内存配置算的的上是同等价位嵌入式主板的战斗机了，板载wifi这个也很实用。虽然树莓派支持安装很多种linux系统，由于我这里要跑ROS机器人系统，所以我选择了安装ubuntu-mate-16.04， ubuntu-mate-16.04 LTS实际上是ubuntu-16.04 LTS的一部分，为桌面、Raspberry Pi 2和3单片机准备的，这也是Ubuntu MATE的首个LTS长期支持版，亮点在于包含MATE 1.12.1桌面环境，针对平板支持多点触控和“自然滚动”，对多屏幕设置提供更好的支持，更好的会话管理，扩展的systemd支持，改进过的Power小程序——可显示产品型号和提供商信息等内容。

![img](https://images2018.cnblogs.com/blog/1204799/201803/1204799-20180325200607946-459573387.png)

安装好ubuntu-mate-16.04操作系统后，就可以安装kinetic版本的ROS了，最后安装一些cp210x和ch340之类的USB转串口的驱动后，就可以验证SLAM算法了。Gmapping激光SLAM建图和ros-navigation自动导航跑的都很顺畅；google-cartographer进行建图和重定位也没什么问题；跑ORB-SLAM2的Mono模式就不太行了，帧率5帧以内。

##### Firefly-RK3399

萤火虫开发板还是很强大的板子分RK3288和RK3399两个版本，先看一下官方的宣传广告吧。

 ![img](https://images2018.cnblogs.com/blog/1204799/201803/1204799-20180325200655897-1977367443.png)![img](https://images2018.cnblogs.com/blog/1204799/201803/1204799-20180325200705804-1756727386.png)

RK3399的CPU和内存配置很强大，跑各种视觉算法很不错，不过售价1000RMB感觉有点小贵。

##### Nvidia-jetson-TK1

![img](https://images2018.cnblogs.com/blog/1204799/201803/1204799-20180325200749131-1350852936.png)

Tegra K1是Nvidia推出的一款AI级别的嵌入式主板，ARM-Cortex-A15的CPU，192个CUDA核心的kepler架构的GPU，2GB内存。有人用Tegra K1做了一个计算集群，感觉还挺有意思的。

##### Nvidia-jetson-TX2

Jetson TX2的是可以作为核武器的处理器的（@~@），性能是十分强大的。简单的智能小车或者机器人不推荐使用TX2，性价比比较低。利用TX2做处理器，控制移动平台（高精度的小车底盘）做SLAM我觉得是一个相当有意思的项目，TX2的处理能力非常适合实现机器视觉。

![img](https://images2018.cnblogs.com/blog/1204799/201803/1204799-20180325200946958-764340157.png) ![img](https://images2018.cnblogs.com/blog/1204799/201803/1204799-20180325201003493-2104081697.png)

左图是官方的开发板和扩展板，不过由于官方扩展板体积太大了用在很多地方不方便，于是网上推出了一款小巧的扩展板Connect Tech Inc.很不错。

![img](https://images2018.cnblogs.com/blog/1204799/201803/1204799-20180325201029134-1979950344.png)

这个是性能表，看上去也是叼叼的，不过售价不便宜接近5000RMB。。。

##### Intel-NUC

前面介绍的都是ARM架构的主板，现在介绍一款X86架构的主板NUC。

![img](https://images2018.cnblogs.com/blog/1204799/201803/1204799-20180325201110065-2139841657.png)

之前用过Intel-NUC7-i7，19V供电65W功耗感觉不适合嵌入式级别的应用场合，而且3000RMB的售价也没法和Nvidia-jetson-TX2比较性价比，所以不推荐在机器人上使用。

##### Intel-Edison

其实这是intel一个失败的尝试，主打物联网应用，CPU采用intel的Atom处理器，最大的亮点是可以在主板上直接扩展Ardunio单片机开发板。

其实个人不推荐用Edison来开发SLAM算法，不过也有公司做这方面的尝试，比如上海思岚科技的SLAMWARE CORE就是Edison的模仿者。

##### Google-Tango-phone

其实Tango-phone是一个完整的AR方案，手机内集成了深度相机和VO视觉里程计。

看网上的演示视频也是十分的炫酷，不过最终这个项目还是没有在google中火起来，可能还是存在不少问题的吧。

##### 总结

![img](https://images2018.cnblogs.com/blog/1204799/201803/1204799-20180325201338422-1973913021.png)

所以，最后总结一下，玩机器人和SLAM的朋友们，如果是中低端需求推荐树莓派3，高端需求推荐jetson-TX2。

#### 嵌入式开发板区别讨论

 谢邀。楼主说的三种开发板基本上属于两类：大疆的妙算和TK1基本上属于一类，Intel的属于第二类。先说妙算吧，妙算其实就是==英伟达TK1+自定义接口+大疆的SDK==。楼下实验室在用，我在TK1上写的程序直接拷贝过去就能用，楼下的师弟说因为妙算基本就是买了英伟达的板子回来DIY导致英伟达告大疆侵权，所以现在买一块妙算都相当麻烦，所有的网上社区也下线了（怎么感觉和偷偷买一样）。。扯远了，妙算的好处就是==集成大疆onboard飞控==，如果你飞控用的是大疆系列的那开发起来会容易很多。但考虑到楼主不是用的==M100==，实际能简化多少我就无从而知了。
然后说TK1， TK1的话现在可能是最经济实惠的硬件了。GPU加速虽然比不上TX1， 但是有总比没有好吧~最方便的就是系统是==桌面级的Ubuntu==，电脑上写好的程序放到板子上编译一下就好，不用再担心==头疼的交叉编译==（其实楼主的这三个选择都不需要考虑）。但是TK1的缺点在于接口少，==两个USB口相机占掉一个==就不够了啊……串口倒是够多，但是收发数据两个也就够了，多了也用不到。所以这点上，妙算DIY的就很好。
再说Intel的芯片，在飞机上用英特尔的芯片也很多，但是！！小型四旋翼有个最大的问题就是：功耗。隔壁实验室做视觉跟踪就是用的Intel的单板，功耗跟不上导致芯片性能不能满负荷运行……不过Intel的芯片有个好处，就是你可以装Windows啊……很多人对Ubuntu（Linux内核系统）的命令行深恶痛绝，其实熟悉起来还好，但是我相信楼主做图像处理肯定是从VS+OpenCV入门的（因为我也是^_^）所以对Windows开发的熟悉程度肯定好于LINUX。但个人觉得Windows效率还是太低，入门可以，但是最后工程化的话还是要上Linux。
总之我推荐TK1（RMB1500），性价比最高，如果是大疆的飞控经费充裕的话可以上妙算（RMB6000）。真的实在没时间折腾Ubuntu的话就用Intel的芯片吧……

TK1购买教育优惠：http://www.nvidia.com/object/tk1-edu-discount.html

TX2购买教育优惠：http://www.nvidia.com/object/jetsontx2-edu-discount.html

#### 嵌入式开发板核心对比

核心对比

Cortex A5: 1.57 DMIPS/MHz 每核心
Cortex A7: 1.9
Cortex A8: 2.0
Cortex A9: 2.5
Cortex A12: 3.0
Cortex A15: 3.5起，可高到4.01
Cortex A17: 应该与A12相当
Cortex A53 (64位): 2.3
Cortex A57 (64位): 4.1起，可高到4.76

![img](https://pic4.zhimg.com/80/v2-d3874af5dbbae1833d793435cbb7b164_hd.jpg)

#### Pixhawk2

Pixhawk2采用STM32F4处理器和Intel-Edison

#### Pixhawk1

Pixhawk1采用STM32F4处理器，无额外芯片

#### 手机、电脑和嵌入式对比

简单粗暴的对比一下GTX TITAN Xp和Adreno540（骁龙835的gpu）。

TITANXP晶体管数量120亿，核心面积471mm²
骁龙835晶体管数量30亿，核心面积72.3mm²
A540的具体数量面积没查到，用而835是包含了cpu，gpu，基带等，很大部分并不是gpu....

而TITANXP的浮点性能是12.15TFLOPs A540的是567GFLOPs

https://www.notebookcheck.net/Smartphone-Graphics-Cards-Benchmark-List.149363.0.html 

GPU方面，Kepler略强于A9，Maxwell略强于A10

### 飞控

#### 为什么飞控和开发板要分开

如果我们只关注于飞行，目前基于cortex-M4内核的单片机，如大部分开源飞控使用的==STM32F4处理器==，168MHz主频，带有==单精度浮点运算单元==，性能已经完全满足飞控的要求了。性能更强大的基于M7内核单片机发布了也有一些日子了，现在已经有了在四轴飞行器上的应用。但如果需要跑一些对处理器性能要求更加高的上层业务，如图像识别处理，那一个高性能的==高主频多核处理器==是必不可少的。

**所以总结一下**，一个飞控未必只存在一个处理器，随着我们对飞行器的智能化要求越来越高，未来一个完整的飞控系统应该包括==运行linux的高性能处理器+跑RTOS的单片机==，一个负责视频和语音信号处理等上层业务，一个负责惯性导航和姿态控制等下层业务。然后这两个系统之间存在着通信，如视频信号经过识别处理后得到结果，再将指令发送给下层处理器，该指令经过底层处理器的控制回路后最终才表现为对四轴飞行器的电机的控制。

#### Arduino、ARM、树莓派、单片机四者有什么不同？

凯美瑞，V型发动机，帕萨特，小轿车

简单地说：

1. Arduino是一种开发工具软件，不是一种芯片。它可以支持很多种处理器芯片的开发，内部有很多库，开发软件方便。
2. ARM是英国的一个公司，主要设计ARM系列的处理器。ARM系列处理器是32位处理器，是芯片，不是软件，是很流行的芯片。三星，苹果等很多公司都买ARM公司的授权。
3. 树莓派是一种电路板子。它使用ARM处理器芯片，和linux操作系统或windows操作系统，是一个很小体积的桌面电脑。
4. 单片机是指处理器内核加了一些外围接口电路，做到一个芯片中，也叫微控制器MCU。8051芯片，avr芯片，arm芯片...都叫单片机，而英特尔的80x86系列是中央处理器，不能叫单片机。

复杂地说：

1. Arduino是平台
   Arduino只是一个用java和gnu实现的、开源的开发平台，其结构源于Processing。它可以支持多种MCU，包括atmel公司的AtmelTiny系列、avr8、ARM Cortex M0、ARM Cortex M3、ST公司的ARM Cortex M3，TI公司的energia平台也采用了Arduino的平台结构，可以用于开发MSP430、C2000等。从原理上，Arduino平台不受MCU限制，但是当前只是支持有限的MCU。当前已经支持有名的ESP8266，ESP32等ARM内核板开发。
2. 硬件抽象层HAL
   Arduino有一个硬件抽象层，实现了硬件无关层和硬件相关层的分离。
3. 编程语言
   Arduino采用C和C++混合编程，采用成熟的开源gnu来编译。
4. 类库和例子
   Arduino有大量的类库支持，同时从简到繁有大量的应用例子，可以很快地基于类库和例子实现用户的应用。但是如果想了解底层的实现，也可以看到底层实现的源码。
5. 应用
   Arduino主要用于前端的以控制为主的环境，如机器人控制前端，四轴飞行器前端控制，3D打印机前端控制等。对简单的控制系统，只用Arduino开发就可以了。
6. 对比
   1. Arduino是平台，不是某种MCU
   2. ARM只是ARM系列的MCU
   3. 树莓派是基于ARM和linux或windows操作系统的卡片式电脑，可以用于计算量大的环境，可以作为一个通用计算机来用，也可以用于复杂控制系统的后端数据处理和GUI，像一个很小的PC机。
   4. 单片机也是指某种MCU，只是叫法不同。

##### 先说说Arduino

Arduino是一款便捷灵活、方便上手的开源电子原型平台，包含硬件（各种型号的Arduino板）和软件（Arduino IDE)。它适用于爱好者、艺术家、设计师和对于“互动”有兴趣的朋友们。（来源百度百科）

通俗的讲：arduino就是主要以以AVR单片机为核心控制器的单片机应用开发板（当然也有其他核心的例如STM32版本的但是不是官方的，还有intel的伽利略），或者是学习板啥的，但是Arduino开发人员开发了简单的函数，还有许多应用库，这样就不用直接去操作寄存器了，使得没有很好的单片机基础的人员也可以使用Arduino做出自己想要的东西。Arduino的开发人员还开发了一个简洁的IDE（集成开发环境）也就是写代码，编译，调试，下载的上位机软件。

##### 再说ARM

ARM处理器是Acorn计算机有限公司面向低预算市场设计的第一款RISC微处理器

通俗的讲：ARM是一款处理器也可以说是单片机，是功能比较强大的单片机。ARM也是公司的名字

但是值得注意的是ARM公司通过出售芯片技术授权

也就是说ARM公司不做芯片的生产，只有买了这些技术授权的半导体公司才做芯片

我的个人理解是ARM提供处理器的核心技术方案，各个半导体公司加上自己的外设等等东西做成自己的芯片，所有采用arm提供技术授权的芯片都叫ARM

##### 说说树莓派

树莓派由注册于英国的慈善组织“Raspberry Pi 基金会”开发，Eben·Upton/埃·厄普顿为项目带头人。2012年3月，英国剑桥大学埃本·阿普顿（Eben Epton）正式发售世界上最小的台式机，又称卡片式电脑，外形只有信用卡大小，却具有电脑的所有基本功能，这就是Raspberry Pi电脑板，中文译名"树莓派"。这一基金会以提升学校计算机科学及相关学科的教育，让计算机变得有趣为宗旨。基金会期望这 一款电脑无论是在发展中国家还是在发达国家，会有更多的其它应用不断被开发出来，并应用到更多领域。在2006年树莓派早期概念是基于Atmel的 ATmega644单片机，首批上市的10000“台”树莓派的“板子”，由中国台湾和大陆厂家制造。

树莓派就是将你电脑机箱里的大部分东西都集成到了一块电路板上的 微型电脑，接上显示器鼠标键盘等等 东西 和你的电脑没啥实质的区别，操作系统不一样这个是基于linux的系统。

##### 说说单片机

单片机（Microcontrollers）是一种集成电路芯片，是采用超大规模集成电路技术把具有数据处理能力的中央处理器CPU、随机存储器RAM、只读存储器ROM、多种I/O口和中断系统、定时器/计数器等功能（可能还包括显示驱动电路、脉宽调制电路、模拟多路转换器、A/D转换器等电路）集成到一块硅片上构成的一个小而完善的微型计算机系统，在工业控制领域广泛应用。从上世纪80年代，由当时的4位、8位单片机，发展到现在的300M的高速单片机。

单片机在国外叫MCU 微型控制器

就是将CPU RAM ROM 等等集成到一块芯片上构成 单片微型计算机

##### 总结

Arduino：简单的完善的资源丰富开源的单片机应用开发板

ARM：高性能单片机（简单理解）

树莓派：微型卡片计算机

单片机：单芯片计算机

#### 飞控细节

1. 飞控不是必须要有实时操作系统，可以裸跑，但==绝不能使用非实时系统==。原因是要想达到比较好的控制效果，飞控中的姿态解算环节（计算飞行器姿态）和内环控制环节（角速度环）要求达到==毫秒级的频率==，常用的控制频率为400Hz，如pixhawk飞控，即==2.5ms运行一次控制算法并输出控制信号给电机==。而**姿态解算和飞行控制**作为飞行器最重要的运行进程，是决不允许被打断或延迟的（优先级为最高），否则将会导致飞行器的坠毁。

当然控制频率再低一点，也是可以飞行的，如非常流行的APM开源飞控，由于其最初使用的AVR主控（8位单片机）性能的限制，姿态与控制线程的运行频率只有100Hz，也就是说，==如果能保证10ms一次的实时任务调度，linux也是可以勉强胜任飞控的工作的==。
相关问题：[RTOS在多旋翼飞控中的应用情况？ - 王文天的回答](http://www.zhihu.com/question/28981423/answer/51314550)

2. 实际上上述所说的APM飞控的官方代码就已经有了对linux平台的移植，可以运行于树莓派上，但是由于原本树莓派上的运行的linux系统是非实时的，还需要打一个RT-patch补丁。（树莓派可以兼任飞控但性能不好）
3. 从硬件上来讲，飞控输出PWM信号用于控制电机（经过电调），而大部分基于linux系统的板子应该是==不会带硬件PWM输出==的吧，即使可以GPIO软件模拟PWM信号，但是==性能效率也会打折扣==。抛开这些不谈，使用linux系统跑飞控程序也是完全没有必要的。即使打了实时补丁，linux的实时性相对于其它RTOS也是有很大的差别的，而且linux相对过于庞大复杂，降低了飞控系统的可靠性，对于飞行器而言，有什么比安全还要重要呢？

## 保护罩

图片已转移到 \img

## 电机与桨叶

电机KV值：**电机的转速（空载）= KV值 x 电压**
例如KV1000的电机在10V电压下它的转速（空载）就是10000转/分钟。 

电机的==KV值越高==，提供出来的==扭力就越小==。所以，KV值的大小就与桨有着密切的关系，以下就这点提供一下配桨经验：

1060桨，10代表长的直径是10寸，60表示桨角（螺距)。

**前两位数表示直径，后两位表示螺距。**

电池的放电能力，最大持续电流是：**容量 x 放电C数**

例如:1500MA，10C，则**最大的持续电流 = 1.5 x 10 = 15A**

如果该电池长时间超过15安或以上电流工作，那么电池的寿命会变短、还有电池的充满电压单片4.15-4.20合适，用后的最低电压为单片3.7以上（切记不要过放），长期不用的保存电压最好为3.9。

### 电机与桨搭配

#### 3S电池下

KV1200-1400配9050（9寸桨）至8*6桨

KV1600-1800左右的7寸至6寸桨

V2200-2800左右的5寸桨

KV3000-3500左右的4530桨

#### 2S电池下

KV1800左右用7060桨9W4V，q+h，x

KV2500-3000左右用5X3桨

KV3200-4000左右用4530桨

### 桨的大小与电流关系

==桨相对越大，产生推力的效率就越高==

例如：同用3S电池，电流同样是10安（假设）

用KV1000配1060桨 与 KV3000配4530桨它们分别产生的推力前者是后者的两倍。 

### 机型与电机、桨的关系

一般来说：==桨越大，飞机所产生的反扭力越大==，所以桨的大小与机的翼展大小有着一定关系，但==桨与电机==也有着上面所讲的关系。 

例如用1060桨，机的翼展就得要在80CM以上为合适，不然的话机就容易造成反扭；又如用8*6的桨翼展就得在60以上。 

再比如：用4530桨做翼展1米以上机是否可行？ 是可以， 但飞机飞起来会很耗电，因为翼展大飞行的阻力大，而4530桨产生的推力相对情况下小（上面桨的大小与电流关系有讲到）。

所以模友在选择玩什么机型的时候就要注意这4者的关系，尤其是新手选择机型，一定要看这机型翼展大小选择配电机、桨、电池，特别要注意的是，不能用大桨配高KV的电机，否则烧电机还影响了电池，有可能连电调也烧掉。

### 无刷电机与螺旋桨

电机分为有刷电机和无刷电机，不要买错了，==无刷是四轴的主流==。它力气大，耐用。
电机的型号含义？
经常看人说什么2212电机，2018电机等等，到底是什么意思呢？这其实电机的尺寸。
不管什么牌子的电机，具体都要对应4位这类数字，其中前面2位是电机转子的直径，后面2位是电机转子的高度。注意，不是外壳哦。
简单来说，**前面2位越大，电机越肥，后面2位越大，电机越高**。
**又高又大的电机，功率就更大，适合做大四轴**。

通常2212电机是最常见的配置了。

#### 什么是电机kv值？

每个无刷电机都会标准多少kv值，这个kv是外加1v电压对应的每分钟空转转速，例如：1000kv电机，外加1v电压，电机空转时每分钟转1000转，外加2v电压，电机空转就2000转了。

#### 桨的型号含义？

同电机类似，桨也有啥1045，7040这些4位数字，前面2位代表桨的直径（单位：英寸 1英寸=254毫米）后面2位是桨的角度。

#### 什么是正反桨，为什么需要它？

四轴飞行为了抵消螺旋桨的自旋，相隔的桨旋转方向是不一样的，所以需要正反桨。正反桨的风都向下吹。适合顺时针旋转的叫正桨、适合逆时针旋转的是反桨。安装的时候，一定记得无论正反桨，有字的一面是向上的（桨叶圆润的一面要和电机旋转方向一致）。

#### 电机与螺旋桨的搭配

这是非常复杂的问题，我自己也在研究当中，所以建议采用大家常见的配置吧，但原理这里可以阐述一下。
==螺旋桨越大，升力就越大，但对应需要更大的力量来驱动；==
==螺旋桨转速越高，升力越大；==
==电机的kv越小，转动力量就越大；==
综上所述，==大螺旋桨就需要用低kv电机，小螺旋桨就需要高kv电机==（因为需要用转速来弥补升力不足）
如果高kv带大桨，力量不够，那么就很困难，实际还是低俗运转，电机和电调很容易烧掉。
如果低kv带小桨，完全没有问题，但升力不够，可能造成无法起飞。
例如：常用1000kv电机，配10寸左右的桨。

### 四轴飞行器之电机与桨的选择

由于四轴飞行器一般选用无刷电机直接驱动，而KV值一般也就800-1200之间，在11.1V锂电的驱动下，最高转速在8000-13000转之间，而现在国内在反桨的选择上迫于货源稀少，一般会选择GWS的8060或9050等三叶反桨，从这类桨的形状看应该是属于直驱中高速桨类的，一般转速要8000以上，用KV值1000左右的电机直驱其实效率不是很高，因为在这个状态下，产生升力所需要的转速接近电机极限。在做一些飞行动作或载重的时候就会体现出来。
我现在用的9050桨就有这个问题！
这里说一下直驱桨和减速桨的结构情况：
==直驱桨用于电机直接驱动，转速快==，一般在8000转-15000以间，高速桨一般在15000以上，而==减速桨是用于减速使用，转速慢==，在8000转以内。
直驱桨的高效段与减速桨不同，这两种桨转起来时真正起作用的区域是不一样的，直驱桨的高效段比较长，在桨的中部偏里形状一般是中间宽或一般宽，而减速桨的高效段则在靠桨端部一些，形状则是端部宽些。
下面再说一下我们做四轴应该选什么桨。
因为四轴的飞行动作不会太猛烈，虽然有时会作些翻滚动作，但飞行姿势还是比较优雅的。四轴的飞行应该更趋向于平缓，所以很多玩家会把四轴飞行器用于业余航拍。这就要求桨转速的变化所引起机身的变化要慢点，也就是慢飞状态。这里所说的==减速桨更适合现在的四轴飞行器==，减速桨的转速高效率段在8000以内，用800-1200KV值的电机驱动比较适合，电机的转速也在正常范围内。
可能会有玩家说，那为什么不用高KV值的电机来驱动这个三叶桨呢？  其实这个想法是对的，问题是==高KV值的电机，输出的力矩较小==，在这个状态下，电机容易烧毁，所以高KV值电机一般会配合机械减速齿轮把桨转速降到适合桨的范围。因为考虑到四轴的机械结构的复杂性，对于装减速组结构的四轴，我个人不是很喜欢，所以就不讨论了。
所以玩家一方面要找到合适的反桨，另一方面要配上合适KV值的电机。
另：玩家也可以考虑用两只三叶反桨 + 两只二叶减速正桨测试。（过段时间我可能会推出这种结构的四轴）
以上说法有不同意见的，欢迎跟帖。
欢迎加入QQ群：四轴飞行器无刷版 23682355

## 电池

鉴于只玩锂电池，所以以下帖子只对锂电池的相关问题做一个说明，希望对新手能有一定的帮助：

### 什么叫S

常见的几S，也就是单节电芯的串在一起。1S就是单节电芯，2S就是2节电芯串联。。。。。。依次类推。1S的标称电压是3.7V，这是最稳定时候的电池电压。正负0.5V都在锂电池的接收范围。也就是说，单节电芯充满电后，应该是4.2V，超过则为过充。相应放电截止电压，不应当小于3.2V。实际操作中，为了保护电池，建议适当提高放电截止电压。7 P. o0
  \! S( P3 [3 y/ A' b5 u% r/ x! d 

### 电池的C数和放电量的关系

常见电池都有标注：几S、多少毫安，放电系数多少C。那么电池的最大放电量或持续放电量究竟怎么计算呢。请看电池参数，一般都会标注持续放系数，如40C，2000毫安的电池，那么持续放电量则是I=QC=2x40=80A(请注意把毫安换算成安)。最大放电量当然是标称的最大瞬时放电系数乘以电池容量了，同样请注意单位换算。， k/ y) L8 R( a/ I" e" k/ l 

### 电压和放电系数分别影响什么

简单来说，电压影响电机的转速，放电系数直接影响电机产生的扭力。电机都有个KV值，电机的转速=电池电压xKV值。这样解释就很清楚了。至于电机的扭力，相同参数的电机，瞬时电流通过越大，产生的扭力也就越大。

### 电机、电调与电池的搭配关系

这是一个相对来说比较复杂的问题，很多新手在入手电车的时候，常为了选择什么样的电机，或则多少A的电调，或则配什么样的电池而不容易烧车而烦恼。在这里，记住两个公式，就OK啦。

第一个，当然是：I=QC，即电池自身的放电量，第二个：P=UI，电机的功率公式，相信大家都知道这是由p=w/t，而w=uIt换算来的。举例说明：5000毫安，40C的锂电，很暴力啦，那么需要配一个允许持续电流多大的电调呢，通过计算，我们得知为200A。恩，那么，似乎我们应该去定一个200A的电调才不会烧啦。慢着，接着看另外的一个公式，P=UI，如果我们选择的电机瓦数为2220W，且电池配的是11.1V的话，或则电机瓦数更高，那么我们当然应该去买个200A的电调啦。懂了么？P=UI=11.1X200=2200w。呵呵，但是往往我们没配这么大功率的电机，比如电机是1000W，其他参数不变，我们需要多大的电调呢，反算一下：I=P/U=1000/11.1=90A。也就是说，只要能有个90A的持续电量标准的电调，我们就OK啦。同时，别忘记用此方法测试下最大瞬时放电的电量，同样要验算下。

## 动力系统

### 直流电机

1. 马力不够
2. 自重太大
3. 寿命太短
4. 转速太高
5. 效率低下
6. 实践证明直流电机不适合做四轴动力 

轴距550mm的1kg级别四轴飞行器，可以满足航拍（平民级别）等一系列需求，载重余量较大，扩展性也高。

### 无刷电调

即输出三相交变电流的电子调速器

因为我们用电池供电，输出的是直流，需要经电子调速器（简称电调）转换成三相交流电。同时电子调速器可以接受遥控信号从而调整电机转速。

这里我们选用20A ~ 30A 的电调

### 飞控板

即飞行控制板，是飞行器的灵魂！

飞控板的基本功能就是协调四个电机的转速，比如要悬停，它就不停修正各个电机转速达到悬停，此时你不需要手动修正就可以问问地悬停了（我们称为自稳模式）；要前进，则四轴后方的电机转速增加，四轴被「顶」向前；后退，左移，右移同理；要旋转，则通过调整对角两个电机转速实现，这个以后再说。

### 电池

我们用锂聚合物电池，而且是大容量锂聚合物，而且是20倍放电电池，而且是三片电芯串联，也就是3.7*3=11.1V电压！

哪里去买到这样的电池，还要自己串联？

淘宝已经给你准备好了。。。。直接搜「2200mah 11.1V 20C」吧，这就是我们需要的电池了
这个型号的电池，放电能力可达到44A（也就是2.2A*20C=44A），而我们四轴的悬停功率大概在100多瓦，足够了
为什么用2200mah 11.1V 20C 锂聚合物电池？

1. 锂电池是能普及使用的比能量密度最大的电池
2. 放电能力大
3. 充放次数多，保养得好的话可以用个几百次 

### 正反桨

正反桨就是呈镜面对称的一对螺旋桨。如果我们使用四个一模一样的螺旋桨，那么，四个电机的转向相同，电机产生的旋转力矩就会朝着同一个方向，四轴就开始疯狂自旋。为了抵消旋转力矩，直升机采用了尾桨抵消的方法，即向反方向吹气，不让你旋转；而四轴则采用了正反桨设计，也就是说两个电机顺时针转，两个逆时针转，这样就抵消了自旋。由于顺时针转的电机搭配正桨，逆时针转的电机搭配反桨，所以四个电机还是会向下吹气！

### 保护

我们使用的无刷电机，每一个的功率可以达到150瓦甚至更多！而普通吊扇的功率才70瓦！转速则有一万多转！一不小心，你会被打的皮开肉绽！这不是危言耸听！
另外锂电池也有一定的危险性！尤其是充电时，千万不要插上电就撒手不管了，也就是充电时间不能太久！另外不要贪便宜选择低质量的锂电池！
so如何保护自己？
在正式飞行之前，不要给电机装螺旋桨！这样随你怎么失控都不会有高速旋转的桨打到你了！
在调试的时候，一定要小心，小心再小心！
锂聚合物电池要妥善保管，具体请问度娘。
选择在人少（最好没人），地点开阔的地方试飞，要是试飞时砸到人。。。。。
切忌心急！没调好就开始飞万万要不得！

### 新花样

等你的飞行基本功扎实之后，就可以玩玩新花样了，在这里提供几个思路：
航拍和第一视角飞行fpv就不说了。

* 挂横幅。这个已经挺普遍了，挂的时候注意要离开飞机一点距离，避免导流。还有空投降落伞也是，这两个可以论坛上搜一下，不难做，难在你能不能用到位。投射装置可以参考我签名档里室友的天才发明.
* 夜光降落伞。TB买或者DIY降落伞，配重用纽扣电池加一个led，led朝上照，这个降落下来的是美丽的发光降落伞。
* 激光。用在夜航上。去三五电子买一个5V280ma的激光模组，调焦好后装飞机上，晚上看的话就是一条看不到头的耀眼的红线，这下绝对不会飞丢了。接一个满天心分光罩效果超赞。激光还有一个作用就是可以点火，下面会用到。注意不要照到人眼。必瞎。
* 大功率LED。TB买1W的大功率led，选骚一点的颜色，串联或者用电阻降压装在机子上，同样不怕飞丢。想更引围观的话就买个10W的led，可以直接用3S供电，飞的时候必须戴墨镜防护！！
* 电磁火包。这个去科创看，有制作教程，40块钱买照相机闪光灯模块+400V大电容+线圈，螺丝当子弹，做一个小型的够用，好的话能打穿可乐罐。暴力慎玩！！
* 土豆火包。简单粗暴。同样去科创看，做个小的玩玩够了，做大了本人不负责任！
* 空中喷泉。买几十根5毛一根的电子火柴（用拉烟点火器点火），烟花店里买几块钱一个的喷泉烟花，火柴和引线绑在一起，载上去空中燃放，配合机身自旋，勾妹子无压力。
* 发射鞭炮。用BB炮就很好，这个论坛上也有不少，难在弹仓制作。点火可以用前面说过的激光反复点。
* 喇叭，TB买块语音芯片（style的两块钱一块，米多的可以定制芯片！）两块钱买个大功率的喇叭，上电，用一个通道给予一个高电平来触发声音播放。这个用来表白或则吓唬人都不错……
* 空头烟雾弹。买那种带引线的5毛两个的玩具烟雾弹，当做降落伞的配重。用电子火柴引燃烟雾弹，导线绑在飞机上（做一点防护措施），导线烧完之后就降落伞就降下来，同时还冒着烟雾。 

<http://wenku.baidu.com/link?url=Mfv0_WGd86s0ndWbqiOtS6YlWGX53EAt15nqiSDca_oQtgJTsC6y3FnnFw5Nl_jd-guOTTdkyFB-76YO6nqgOgAW7cZd57Teo09tIjDVlUO> 

http://wenku.baidu.com/view/59c3f68583d049649b6658d7.html

http://tieba.baidu.com/p/2295332320

## 无人机论坛

### 国内论坛

爱无人机：[爱无人机-专注无人机开发与设计](https://link.zhihu.com/?target=http%3A//bbs.loveuav.com)

飞兽社区：[飞兽社区|全球最大的无人机爱好者在线社区](https://link.zhihu.com/?target=http%3A//www.feishou.com/plugin.php%3Fid%3Dthinktheme_sindex%3Athinktheme_sindex)

UAVnews： [无人机业界观察](https://link.zhihu.com/?target=http%3A//uavsnews.com)

### 国外论坛

[Discussion Forum](https://link.zhihu.com/?target=http%3A//diydrones.com/forum)

[DroneFlyers.com Quadcopter Discussion Forums](https://link.zhihu.com/?target=http%3A//droneflyers.com/talk/)

[DJI Phantom Drone Forum](https://link.zhihu.com/?target=http%3A//www.phantompilots.com/)

[AR Drone Forum](https://link.zhihu.com/?target=http%3A//multirotorforums.com/forums/ar-drone-forum.10/)

[5 Things You Should Know Before You Buy a Drone](https://link.zhihu.com/?target=http%3A//myfirstdrone.com/tutorials/buying-guides/want-to-buy-a-drone-5-things-you-should-know-before-you-buy/)

[http://forum.parrot.com/ardrone/en/](https://link.zhihu.com/?target=http%3A//forum.parrot.com/ardrone/en/)

[http://www.inspirepilots.com/](https://link.zhihu.com/?target=http%3A//www.inspirepilots.com/)

[Quadcopter Forum](https://link.zhihu.com/?target=http%3A//quadcopterforum.com/)

[http://www.droneforum.com/](https://link.zhihu.com/?target=http%3A//www.droneforum.com/)

[DJI Forum](https://link.zhihu.com/?target=http%3A//forum.dji.com/)

[AR.Drone - ARDrone-Flyers.com](https://link.zhihu.com/?target=http%3A//www.ardrone-flyers.com/forum/)

[http://www.rcgroups.com/uav-unmanned-aerial-vehicles-238/](https://link.zhihu.com/?target=http%3A//www.rcgroups.com/uav-unmanned-aerial-vehicles-238/)

[http://forum.dronedeploy.com/](https://link.zhihu.com/?target=http%3A//forum.dronedeploy.com/)

[http://yuneecpilots.com/](https://link.zhihu.com/?target=http%3A//yuneecpilots.com/)

[http://www.droneminds.com/forums/index.php](https://link.zhihu.com/?target=http%3A//www.droneminds.com/forums/index.php)

http://www.rcuniverse.com/forum/fpv-uav-drones-486

## 视频网址

http://v.youku.com/v_show/id_XMzg2NzIyNDIw.html?from=y1.2-1-103.3.5-2.1-1-1-4

http://v.youku.com/v_show/id_XNTI5NzQ1MzAw.html?from=y1.2-1-103.3.1-2.1-1-1-0